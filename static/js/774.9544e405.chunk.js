"use strict";(self.webpackChunkwinnow=self.webpackChunkwinnow||[]).push([[774],{774:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(43),l=a(579);const s=e=>{let{name:t,setName:a,emblem:s,isLead:i,isOutlined:o}=e;const[r,c]=(0,n.useState)(0);return(0,l.jsxs)("div",{style:{backgroundImage:"url(https://www.bungie.net".concat(s.secondaryIcon,")")},className:"w-[474px] h-[95px] pl-[85px] flex flex-col shadow-lg rounded-sm relative tooltip tooltip-accent text-left"+(o?" outline outline-1 outline-offset-2 outline-white":""),"data-tip":"Click the name here to change it",children:[i?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2044.21 2044.21",className:"absolute w-5 fill-[#ccd32b] -ml-[84px] mt-[1px]",fill:"currentColor",children:(0,l.jsx)("polygon",{points:"0 0 0 2044.21 2044.21 0 0 0"})}):(0,l.jsx)(l.Fragment,{}),(0,l.jsxs)("p",{className:"absolute font-emblem text-[#d5c154] right-[8px] -top-[6px] text-[36px]",children:[(0,l.jsx)("span",{className:"relative font-symbol text-[26px] -top-[5px]",children:"\ue038"}),(0,l.jsx)("span",{className:"font-semibold drop-shadow-[0_2px_0px_#0003] tracking-[1.4px]",children:"9999"})]}),(0,l.jsx)("input",{type:"text",placeholder:"Click here to change",value:t,onChange:e=>{const t=e.currentTarget.value;t.length<=26&&a(t)},onBlur:e=>{if(e.currentTarget.scrollWidth!==e.currentTarget.clientWidth){const t=e.currentTarget.scrollWidth/(e.currentTarget.clientWidth-45);c(t)}},onFocus:e=>{c(0)},className:"-ml-[16.5px] -m-[3.5px] input hover:input-bordered hover:border-white transition max-w-[19.5rem] bg-transparent outline-transparent font-emblem tracking-[0.8px] font-semibold text-white placeholder-white drop-shadow-[0_2px_0px_#0003]",style:{fontSize:r>0?27/r:27}}),(0,l.jsxs)("p",{className:"text-[22px] -mt-[9px] opacity-40 font-emblem font-medium tracking-[0.8px] text-white",children:[(0,l.jsx)("span",{className:"font-symbol",children:"\u24eb"})," Paragon"]}),(0,l.jsx)("p",{className:"text-[23px] -mt-[6px] opacity-30 font-emblem font-medium tracking-[0.8px] text-white",children:"winnow.oatsfx.com"})]})},i=e=>{let{name:t,emblem:a}=e;return(0,l.jsxs)("div",{style:{backgroundImage:"url(https://www.bungie.net".concat(a.secondarySpecial,")")},className:"w-[100%] h-full max-h-[210px] aspect-[17/1] bg-no-repeat bg-bottom bg-cover flex flex-col shadow-lg relative",children:[(0,l.jsx)("div",{style:{backgroundImage:"url(https://www.bungie.net".concat(a.secondaryOverlay,")")},className:"absolute top-[30%] h-[90%] w-[100%] bg-no-repeat bg-[4.3%] bg-contain"}),(0,l.jsx)("div",{style:{background:"rgba(255,255,255,0.7)"},className:"absolute ml-[10.7%] top-[31%] h-[2px] w-[10px] bg-no-repeat bg-[4.3%] bg-contain"}),(0,l.jsxs)("div",{className:"absolute ml-[10.7%] top-[30%] flex flex-col w-2/3",children:[(0,l.jsx)("p",{className:"lg:text-[28px] md:text-[22px] max-w-[34rem] font-emblem tracking-[3px] font-extrabold text-white truncate",children:t||"Guardian"}),(0,l.jsxs)("div",{className:"flex gap-3 w-1/2",children:[(0,l.jsx)("p",{className:"opacity-0 2xl:opacity-70 lg:text-[17px] -mt-[6px] font-emblem font-medium tracking-[2.5px] text-white",children:"Season 99"}),(0,l.jsxs)("p",{className:"opacity-0 2xl:opacity-70 lg:text-[18px] -mt-[7px] font-symbol font-medium tracking-[3px] text-white",children:["\uf123",(0,l.jsx)("span",{className:"font-emblem ml-[8%]",children:"999"})]}),(0,l.jsxs)("p",{className:"opacity-0 2xl:opacity-70 lg:text-[18px] -mt-[7px] font-symbol font-medium tracking-[3px] text-white",children:["\uf124",(0,l.jsx)("span",{className:"font-emblem ml-[8%]",children:"11"})]}),(0,l.jsxs)("p",{className:"opacity-0 2xl:opacity-70 lg:text-[18px] -mt-[7px] font-symbol font-medium tracking-[3px] text-white",children:["\ue038",(0,l.jsx)("span",{className:"font-emblem",children:"9999"})]}),(0,l.jsxs)("p",{className:"opacity-0 2xl:opacity-70 lg:text-[18px] -mt-[7px] font-symbol font-medium tracking-[3px] text-white",children:["\uf125",(0,l.jsx)("span",{className:"font-emblem",children:"99,999"})]})]})]}),(0,l.jsxs)("div",{className:"absolute 2xl:opacity-100 opacity-0 ml-[47%] top-[45%] flex gap-7",children:[(0,l.jsx)("p",{className:"text-[18px] font-emblem tracking-[1.5px] font-medium text-white opacity-70 hover:opacity-100 transition drop-shadow-[0_2px_0px_#0004]",children:"CLAN"}),(0,l.jsx)("p",{className:"text-[18px] font-emblem tracking-[1.5px] font-medium text-white opacity-70 hover:opacity-100 transition drop-shadow-[0_2px_0px_#0004]",children:"COLLECTIONS"}),(0,l.jsx)("p",{className:"text-[18px] font-emblem tracking-[1.5px] font-medium text-white opacity-70 hover:opacity-100 transition drop-shadow-[0_2px_0px_#0004]",children:"JOURNEY"}),(0,l.jsx)("p",{className:"text-[18px] font-emblem tracking-[1.5px] font-medium text-white opacity-70 hover:opacity-100 transition drop-shadow-[0_2px_0px_#0004]",children:"CHARACTER"}),(0,l.jsx)("p",{className:"text-[18px] font-emblem tracking-[1.5px] font-medium text-white opacity-70 hover:opacity-100 transition drop-shadow-[0_2px_0px_#0004]",children:"INVENTORY"}),(0,l.jsx)("p",{className:"text-[18px] font-symbol tracking-[1.5px] font-medium text-white opacity-70 hover:opacity-100 transition drop-shadow-[0_2px_0px_#0004]",children:"\ue059"})]})]})},o=()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 62.08 71.68",className:"fill-primary opacity-25 w-1/6",children:[(0,l.jsxs)("g",{children:[(0,l.jsx)("polygon",{points:"30.04 59.7 10.87 48.64 1 54.34 30.04 71.1 30.04 59.7","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"1;0;0;0;0;0;1",dur:"3",repeatCount:"indefinite"})}),(0,l.jsx)("polygon",{points:"61.08 54.34 51.2 48.64 32.04 59.7 32.04 71.1 61.08 54.34","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"0;1;0;0;0;0;0",dur:"3",repeatCount:"indefinite"})}),(0,l.jsx)("polygon",{points:"52.2 24.77 52.2 46.91 62.08 52.6 62.08 19.07 52.2 24.77","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"0;0;1;0;0;0;0",dur:"3",repeatCount:"indefinite"})}),(0,l.jsx)("polygon",{points:"32.04 0.58 32.04 11.97 51.2 23.04 61.08 17.34 32.04 0.58","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"0;0;0;1;0;0;0",dur:"3",repeatCount:"indefinite"})}),(0,l.jsx)("polygon",{points:"1 17.34 10.87 23.04 30.04 11.97 30.04 0.58 1 17.34","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"0;0;0;0;1;0;0",dur:"3",repeatCount:"indefinite"})}),(0,l.jsx)("polygon",{points:"9.87 46.91 9.87 24.77 0 19.07 0 52.6 9.87 46.91","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"0;0;0;0;0;1;0",dur:"3",repeatCount:"indefinite"})})]}),(0,l.jsxs)("g",{children:[(0,l.jsx)("polygon",{points:"30.04 47.09 21.8 42.33 12.9 47.47 30.04 57.36 30.04 47.09","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"1;1;0;0;0;0;1",dur:"1.5",repeatCount:"indefinite"})}),(0,l.jsx)("polygon",{points:"20.8 40.6 20.8 31.08 11.9 25.95 11.9 45.73 20.8 40.6","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"0;1;1;0;0;0;0",dur:"1.5",repeatCount:"indefinite"})}),(0,l.jsx)("polygon",{points:"21.8 29.35 30.04 24.59 30.04 14.32 12.9 24.21 21.8 29.35","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"0;0;1;1;0;0;0",dur:"1.5",repeatCount:"indefinite"})}),(0,l.jsx)("polygon",{points:"32.04 14.32 32.04 24.59 40.28 29.35 49.17 24.21 32.04 14.32","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"0;0;0;1;1;0;0",dur:"1.5",repeatCount:"indefinite"})}),(0,l.jsx)("polygon",{points:"41.28 31.08 41.28 40.6 50.17 45.73 50.17 25.95 41.28 31.08","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"0;0;0;0;1;1;0",dur:"1.5",repeatCount:"indefinite"})}),(0,l.jsx)("polygon",{points:"40.28 42.33 32.04 47.09 32.04 57.36 49.17 47.47 40.28 42.33","fill-opacity":"0",children:(0,l.jsx)("animate",{attributeName:"fill-opacity",values:"1;0;0;0;0;1;1",dur:"1.5",repeatCount:"indefinite"})})]})]}),r=e=>{let{name:t,emblem:a,isLead:n}=e;return(0,l.jsxs)("div",{style:{background:"rgba(".concat(a.backgroundColor.r,", ").concat(a.backgroundColor.g,", ").concat(a.backgroundColor.b,")")},className:"w-[474px] h-[45px] flex flex-col shadow-lg relative tooltip tooltip-accent","data-tip":"The color is likely different from in-game. This is a limitation of Bungie's API reporting incorrect background colors.",children:[n?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2044.21 2044.21",className:"absolute w-4 fill-[#ccd32b] mt-[1px]",fill:"currentColor",children:(0,l.jsx)("polygon",{points:"0 0 0 2044.21 2044.21 0 0 0"})}):(0,l.jsx)(l.Fragment,{}),(0,l.jsxs)("div",{className:"flex items-center gap-[0.4rem]",children:[(0,l.jsx)("img",{src:"https://www.bungie.net".concat(a.icon),className:"h-[45px] mr-[4px]"}),(0,l.jsx)("p",{className:"text-[22px] opacity-50 font-symbol font-medium tracking-[0.8px] text-white",children:"\uf103"}),(0,l.jsx)("p",{className:"text-[23px] -mt-[2px] max-w-[18rem] font-emblem tracking-[0.2px] font-medium text-white placeholder-white drop-shadow-[0_2px_0px_#0003] truncate",children:t||"Guardian"}),(0,l.jsx)("p",{className:"text-[22px] opacity-40 font-emblem font-medium tracking-[0.8px] text-white drop-shadow-[0_2px_0px_#0003]",children:"[WNW]"})]})]})};var c=a(475),p=a(204);const m=()=>{const[e,t]=(0,n.useState)({alertType:"alert",message:""}),[a]=(0,c.ok)(),{data:m,loading:d}=(()=>{const e="https://www.bungie.net/Platform/Destiny2/Manifest/",[t,a]=(0,n.useState)([]),[l,s]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{(async()=>{const t=[];try{const l=await fetch(e);if(!l.ok)throw new Error("Failed to fetch data");const s=(await l.json()).Response.jsonWorldComponentContentPaths.en.DestinyInventoryItemDefinition;try{const e=await fetch("".concat("https://www.bungie.net").concat(s));if(!e.ok)throw new Error("Failed to fetch data");const a=await e.json();for(let n in a)if("Emblem"===a[n].itemTypeDisplayName){const e=a[n].hash;let l=a[n].displayProperties.name;const s=a[n].displayProperties.icon,i=a[n].secondaryIcon,o=a[n].secondaryOverlay,r=a[n].secondarySpecial,c=a[n].backgroundColor;1968995963===e&&(l+=" (Sunflower)"),l&&s&&i&&o&&r&&c&&t.push({hash:e,name:l,icon:s,secondaryIcon:i,secondaryOverlay:o,secondarySpecial:r,backgroundColor:{r:c.red,g:c.green,b:c.blue}})}}catch(n){console.log(n)}a(t)}catch(n){console.log(n)}finally{s(!1)}})()}),[e]),{data:t,loading:l}})(),[x,h]=(0,n.useState)(""),[u,g]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[w,y]=(0,n.useState)(a.get("name")?a.get("name"):""),[j,N]=(0,n.useState)(!1),[v,k]=(0,n.useState)({hash:0,name:"",icon:"",secondaryIcon:"",secondaryOverlay:"",secondarySpecial:"",backgroundColor:{r:0,g:0,b:0}});return(0,n.useMemo)((()=>{if(!d)if(a.get("emblem")){if(m.some((e=>e.hash===Number(a.get("emblem"))))){const e=m.findIndex((e=>e.hash===Number(a.get("emblem"))));k(m[e])}}else k(m[Math.floor(Math.random()*m.length)])}),[m]),(0,l.jsxs)("div",{className:"flex w-full flex-col items-center gap-2",children:[(0,l.jsx)("p",{className:"font-bold text-3xl font-display tracking-tighter text-accent",children:"Emblem Try On"}),(0,l.jsx)("p",{className:"pb-4",onMouseEnter:()=>{N(!0)},onMouseLeave:()=>{N(!1)},children:"Click on the emblem to the right to change the name!"}),d?(0,l.jsx)(o,{}):(0,l.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-3",children:[(0,l.jsxs)("div",{className:"lg:flex-row flex-col flex items-center gap-3",children:[(0,l.jsx)(r,{name:w,emblem:v,isLead:f}),(0,l.jsx)(s,{name:w,setName:y,emblem:v,isLead:f,isOutlined:j})]}),(0,l.jsx)(i,{name:w,emblem:v}),(0,l.jsxs)("p",{className:"text-lg pt-4",children:["Trying on"," ",(0,l.jsx)("span",{className:"text-primary font-semibold",children:v.name})]}),(0,l.jsxs)("div",{className:"flex w-1/3 gap-2 justify-center",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search an emblem",className:"input input-bordered w-full max-w-xs",id:"emblem-search",onChange:e=>{h(e.currentTarget.value)},onFocus:()=>g(!0),onBlur:()=>g(!1)}),(0,l.jsx)("button",{className:"btn tooltip tooltip-accent font-normal",onClick:()=>k(m[Math.floor(Math.random()*m.length)]),"data-tip":"Randomize Emblem",children:(0,l.jsxs)("svg",{viewBox:"650 650 2000 2000",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"w-6",children:[(0,l.jsx)("path",{d:"M2192.43,1144.2c0-44.99.44-87.99-.15-130.97-.39-28.68,10.62-50.5,35.76-64.27,25.55-14,50.11-10,73.05,6.59,114.83,83.05,229.81,165.88,344.25,249.47,44,32.14,43.94,83.74.15,115.66-113.92,83.05-228.35,165.41-342.47,248.18-23.61,17.13-48.51,22.37-74.89,7.97-25.97-14.17-36.5-36.99-35.91-66.48.84-42.12.21-84.27.21-127.82-162.15,8.92-302.71,64.57-415.99,177.33-119.43,118.87-234.5,242.17-349.98,364.94-138,146.7-305.52,237.56-503.97,270.15-43.71,7.18-88.58,9.35-132.97,9.98-63.4.89-115.24-51.45-116.47-113.72-1.32-66.61,46.58-120.16,112.52-121.68,138.93-3.21,267.73-39.05,377.19-125.79,57.83-45.83,108.52-101.01,160.27-154.07,94.34-96.75,185.63-196.51,280.82-292.4,139.71-140.74,310.45-220.23,506.39-246.43,26.33-3.52,53.02-4.34,82.19-6.61Z"}),(0,l.jsx)("path",{d:"M1582.1,1930.95c54.99-57.14,109.37-113.65,164.8-171.24,57.84,64.26,124.36,114.12,201.02,150.14,76.62,36.01,157.09,55.86,244.5,57.94,0-41.72.86-82.38-.28-122.98-.87-30.84,8.08-55.68,36.07-70.87,29.46-15.99,55.17-6.48,80.37,11.88,111.51,81.25,223.5,161.85,335.16,242.9,45.79,33.24,46.05,82.53.33,115.81-112.75,82.07-225.93,163.54-338.61,245.71-24.36,17.76-49.77,23.63-76.92,9.74-27.29-13.96-37.08-38.12-36.37-68.35.99-41.5.25-83.05.25-127.62-239.7-9.17-443.12-98.7-610.32-273.06Z"}),(0,l.jsx)("path",{d:"M1423.05,1419.77c-55.7,57.89-109.66,113.96-164.4,170.84-24.43-22.49-47.28-45.71-72.34-66.24-110.49-90.54-237.88-136.5-380.33-141.88-14.76-.56-29.95-.65-44.1-4.24-56.71-14.4-93.4-67.35-86.78-123.27,7.56-63.92,55.12-109.93,116.69-109.28,247.59,2.61,456.47,95.19,631.25,274.07Z"})]})})]}),u&&m.filter((e=>((0,p.mh)(e.name).toLowerCase().includes(x)||e.name.toLowerCase().includes(x))&&x.length>0)).length>0?(0,l.jsx)("div",{className:"absolute z-[50] border rounded gap-1 p-2 flex flex-col bg-base-100",style:{top:document.getElementById("emblem-search").getBoundingClientRect().y+50,left:document.getElementById("emblem-search").getBoundingClientRect().x,width:document.getElementById("emblem-search").getBoundingClientRect().width},children:m.filter((e=>((0,p.mh)(e.name).toLowerCase().includes(x)||e.name.toLowerCase().includes(x))&&x.length>0)).slice(0,7).map((e=>(0,l.jsxs)("p",{className:"flex align-left w-full items-center gap-2 hover:cursor-pointer",onMouseDown:()=>k(e),children:[(0,l.jsx)("img",{className:"w-8 rounded",src:"https://www.bungie.net"+e.icon}),e.name]},e.hash)))}):(0,l.jsx)(l.Fragment,{}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{className:"btn btn-success",onClick:()=>{navigator.clipboard.writeText("".concat(window.location.href,"?emblem=").concat(v.hash).concat(w?"&name=".concat(w):"")),t({alertType:"alert-info",message:"Copied link to clipboard! ".concat(w||"Guardian"," trying on ").concat(v.name,".")})},children:"Share"}),(0,l.jsxs)("details",{className:"dropdown dropdown-center",children:[(0,l.jsx)("summary",{className:"btn w-24",children:"Tools"}),(0,l.jsxs)("ul",{className:"p-2 shadow-xl menu dropdown-content bg-base-100 rounded-box w-52",children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{onClick:()=>b((e=>!e)),children:"Toggle Fireteam Lead"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"https://destinyemblemcollector.com/emblem?id="+v.hash,target:"_blank",children:"View on DEC"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"https://emblem.report/"+v.hash,target:"_blank",children:"View on emblem.report"})}),(0,l.jsx)("li",{className:"pointer-events-none",children:(0,l.jsx)("p",{className:"text-neutral",children:"More coming soon..."})})]})]})]}),e.message.length>0?(0,l.jsxs)("div",{role:"alert",className:"alert w-2/3 "+e.alertType,onClick:()=>{t({alertType:"alert",message:""})},children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current shrink-0 w-6 h-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("span",{children:e.message})]}):(0,l.jsx)(l.Fragment,{}),(0,l.jsxs)("p",{className:"font-light",children:["As formerly seen on"," ",(0,l.jsx)("a",{className:"underline",href:"https://levante.dev",target:"_blank",children:"Levante"})]}),(0,l.jsx)("p",{className:"font-light italic",children:"This is not a perfect replica"})]}),(0,l.jsx)("div",{className:"divider font-display"})]})}},204:(e,t,a)=>{a.d(t,{Ae:()=>s,CL:()=>n,cT:()=>i,cW:()=>l,kH:()=>o,mh:()=>c,vh:()=>r});const n=e=>{if(0===e.length)return"";if(1===e.length)return e[0];if(2===e.length)return"".concat(e[0]," and ").concat(e[1]);const t=e.slice(0,-1).join(", "),a=e[e.length-1];return"".concat(t,", and ").concat(a)},l={cone:["circle","triangle"],cube:["square","square"],cylinder:["circle","square"],prism:["triangle","square"],pyramid:["triangle","triangle"],sphere:["circle","circle"]},s=e=>{for(const[t,a]of Object.entries(l))if(JSON.stringify(a.sort())===JSON.stringify(e.sort()))return t;return null},i={circle:["triangle","square"],square:["circle","triangle"],triangle:["circle","square"]},o=e=>{const t=["circle","circle","triangle","triangle","square","square"];for(const a of Object.values(e))if(null!==a)for(const e of l[a])t.splice(t.indexOf(e),1);return t},r=e=>{const t=e.reduce(((e,t)=>(e[t]=(e[t]||0)+1,e)),{}),a=[];return 2===t.circle&&a.push("sphere"),2===t.square&&a.push("cube"),2===t.triangle&&a.push("pyramid"),t.circle&&t.triangle&&a.push("cone"),t.circle&&t.square&&a.push("cylinder"),t.triangle&&t.square&&a.push("prism"),a},c=e=>e.replace("\xea","e").replace("\xe0","a").replace("\xc8","E").replace("\xf6","o").replace("\u2026","...")}}]);
//# sourceMappingURL=774.9544e405.chunk.js.map